<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlipHawk - Scan for Opportunities</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="icon" type="image/png" href="/static/favicon.png">
    <style>
        :root {
            --primary-color: #FF6B6B;
            --secondary-color: #4ECDC4;
            --accent-color: #FFE66D;
            --dark-bg: #1A1A2E;
            --card-bg: #16213E;
            --text-color: #E0E0E0;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            overflow-x: hidden; 
        }

        .btn {
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-secondary {
            background: var(--secondary-color);
            color: white;
            border: none;
        }

        .scan-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .category-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        .category {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            width: 100%;
            max-width: 300px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .category h3 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .subcategories {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .subcategory-item {
            display: flex;
            align-items: center;
        }
        .subcategory-item input {
            margin-right: 10px;
        }
        .scan-actions {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        .results-container {
            margin-top: 40px;
        }
        .loading {
            text-align: center;
            padding: 40px;
            display: none;
        }
        .spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 5px solid rgba(209, 107, 52, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .progress-container {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            margin-top: 20px;
            display: none;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border-radius: 6px;
            width: 0%;
            transition: width 0.3s ease;
        }
        .opportunities {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        .opportunity-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background-color: var(--card-bg);
        }
        .opportunity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        .card-header {
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
        }
        .card-header h3 {
            margin: 0;
            font-size: 18px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .card-content {
            padding: 15px;
        }
        .product-comparison {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        .buy-info, .sell-info {
            flex: 1;
        }
        .marketplace {
            font-size: 12px;
            color: #aaa;
            margin-top: 5px;
        }
        .price {
            font-weight: bold;
            font-size: 18px;
            color: var(--secondary-color);
        }
        .profit-details {
            background-color: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
        }
        .profit {
            color: #2E7D32;
            font-size: 18px;
            font-weight: bold;
        }
        .profit-percentage {
            color: #2E7D32;
        }
        .card-actions {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .condition-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            margin-top: 5px;
        }
        .condition-new {
            background-color: rgba(46, 125, 50, 0.2);
            color: #81c784;
        }
        .condition-used {
            background-color: rgba(245, 127, 23, 0.2);
            color: #ffb74d;
        }
        .confidence-meter {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }
        .confidence-bar {
            flex: 1;
            height: 6px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 3px;
        }
        .confidence-fill {
            height: 100%;
            border-radius: 3px;
            background-color: var(--primary-color);
        }
        .confidence-text {
            font-size: 12px;
            color: #aaa;
        }
        .no-results {
            text-align: center;
            padding: 30px;
            color: #aaa;
            display: none;
        }
        .error-message {
            background-color: rgba(198, 40, 40, 0.1);
            color: #ef5350;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            display: none;
        }
        .scan-status {
            text-align: center;
            margin: 15px 0;
            font-size: 16px;
            color: var(--accent-color);
            display: none;
        }
        
        /* Header & Footer Styles */
        .main-header {
            background-color: var(--dark-bg);
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-container {
            display: flex;
            align-items: center;
        }
        .logo {
            height: 40px;
            margin-right: 10px;
        }
        .logo-container h1 {
            margin: 0;
            font-size: 24px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .main-nav ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .main-nav li {
            margin-left: 20px;
        }
        .main-nav a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .main-nav a:hover, .main-nav a.active {
            color: var(--primary-color);
        }
        .login-btn {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white !important;
            padding: 8px 16px;
            border-radius: 4px;
        }
        .main-footer {
            background-color: var(--card-bg);
            padding: 40px 0 20px;
            margin-top: 60px;
        }
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Toast notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            color: var(--text-color);
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 9999;
            animation: fadeIn 0.3s;
            max-width: 300px;
        }

        .toast.error {
            border-left: 4px solid var(--primary-color);
        }

        .toast.success {
            border-left: 4px solid var(--secondary-color);
        }
        
        /* Mobile navigation */
        .mobile-nav-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 20px;
            position: relative;
        }
        .mobile-nav-toggle span {
            display: block;
            height: 2px;
            width: 100%;
            background-color: var(--text-color);
            position: absolute;
            transition: all 0.3s ease;
        }
        .mobile-nav-toggle span:nth-child(1) {
            top: 0;
        }
        .mobile-nav-toggle span:nth-child(2) {
            top: 50%;
            transform: translateY(-50%);
        }
        .mobile-nav-toggle span:nth-child(3) {
            bottom: 0;
        }
        .mobile-nav-toggle.active span:nth-child(1) {
            transform: rotate(45deg);
            top: 9px;
        }
        .mobile-nav-toggle.active span:nth-child(2) {
            opacity: 0;
        }
        .mobile-nav-toggle.active span:nth-child(3) {
            transform: rotate(-45deg);
            bottom: 9px;
        }
        
        /* Media queries */
        @media (max-width: 768px) {
            .mobile-nav-toggle {
                display: block;
            }
            .main-nav {
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background-color: var(--card-bg);
                padding: 20px;
                box-shadow: 0 5px 10px rgba(0,0,0,0.2);
                transform: translateY(-150%);
                transition: transform 0.3s ease;
                z-index: 100;
            }
            .main-nav.active {
                transform: translateY(0);
            }
            .main-nav ul {
                flex-direction: column;
            }
            .main-nav li {
                margin: 10px 0;
                margin-left: 0;
            }
            .opportunity-card {
                margin-bottom: 20px;
            }
            .product-comparison {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="logo-container">
                <img src="/static/images/logo.png" alt="FlipHawk Logo" class="logo" onerror="this.src='/static/images/logo.png'">
                <h1>FlipHawk</h1>
            </div>
            <button class="mobile-nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/scan" class="active">Scan</a></li>
                    <li><a href="/login" class="login-btn">Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="scan-container">
        <h2>Scan for Arbitrage Opportunities</h2>
        <p>Select categories and subcategories to scan for profitable flipping opportunities.</p>
        
        <div class="error-message" id="errorMessage"></div>
        
        <div class="category-selector" id="categorySelector">
            <!-- Tech -->
            <div class="category">
                <h3>Tech</h3>
                <div class="subcategories">
                    <div class="subcategory-item">
                        <input type="checkbox" id="tech-headphones" value="Headphones" class="subcategory-checkbox">
                        <label for="tech-headphones">Headphones</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="tech-keyboards" value="Keyboards" class="subcategory-checkbox">
                        <label for="tech-keyboards">Keyboards</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="tech-gpus" value="Graphics Cards" class="subcategory-checkbox">
                        <label for="tech-gpus">Graphics Cards</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="tech-monitors" value="Monitors" class="subcategory-checkbox">
                        <label for="tech-monitors">Monitors</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="tech-vintage" value="Vintage Tech" class="subcategory-checkbox">
                        <label for="tech-vintage">Vintage Tech</label>
                    </div>
                </div>
            </div>
            
            <!-- Collectibles -->
            <div class="category">
                <h3>Collectibles</h3>
                <div class="subcategories">
                    <div class="subcategory-item">
                        <input type="checkbox" id="collectibles-pokemon" value="Pokémon" class="subcategory-checkbox">
                        <label for="collectibles-pokemon">Pokémon</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="collectibles-magic" value="Magic: The Gathering" class="subcategory-checkbox">
                        <label for="collectibles-magic">Magic: The Gathering</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="collectibles-yugioh" value="Yu-Gi-Oh" class="subcategory-checkbox">
                        <label for="collectibles-yugioh">Yu-Gi-Oh</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="collectibles-funko" value="Funko Pops" class="subcategory-checkbox">
                        <label for="collectibles-funko">Funko Pops</label>
                    </div>
                </div>
            </div>
            
            <!-- Vintage Clothing -->
            <div class="category">
                <h3>Vintage Clothing</h3>
                <div class="subcategories">
                    <div class="subcategory-item">
                        <input type="checkbox" id="clothing-jordans" value="Jordans" class="subcategory-checkbox">
                        <label for="clothing-jordans">Jordans</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="clothing-dunks" value="Nike Dunks" class="subcategory-checkbox">
                        <label for="clothing-dunks">Nike Dunks</label>
                    </div>
                    <div class="subcategory-item">
                        <input type="checkbox" id="clothing-tees" value="Vintage Tees" class="subcategory-checkbox">
                        <label for="clothing-tees">Vintage Tees</label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="scan-actions">
            <button id="scanButton" class="btn btn-primary">Start Scanning</button>
        </div>
        
        <div class="loading" id="loadingIndicator">
            <div class="spinner"></div>
            <p>Scanning marketplaces for arbitrage opportunities...</p>
            <p>This may take up to a minute</p>
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="scan-status" id="scanStatus">Initializing scan...</div>
        </div>
        
        <div class="no-results" id="noResultsMessage">
            <h3>No opportunities found</h3>
            <p>Try selecting different categories or expanding your search criteria.</p>
        </div>
        
        <div class="results-container" id="resultsContainer">
            <!-- Results will be populated here -->
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2025 FlipHawk. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile navigation toggle
            const mobileNavToggle = document.querySelector('.mobile-nav-toggle');
            const mainNav = document.querySelector('.main-nav');
            
            if (mobileNavToggle) {
                mobileNavToggle.addEventListener('click', function() {
                    this.classList.toggle('active');
                    mainNav.classList.toggle('active');
                });
            }
            
            // Elements
            const scanButton = document.getElementById('scanButton');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
            const scanStatus = document.getElementById('scanStatus');
            const resultsContainer = document.getElementById('resultsContainer');
            const noResultsMessage = document.getElementById('noResultsMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // Initially hide results
            resultsContainer.style.display = 'none';
            
            // Handle scan button click
            scanButton.addEventListener('click', function() {
                // Get selected subcategories
                const selectedSubcategories = Array.from(document.querySelectorAll('.subcategory-checkbox:checked'))
                    .map(checkbox => checkbox.value);
                
                // Validate selection
                if (selectedSubcategories.length === 0) {
                    errorMessage.textContent = 'Please select at least one subcategory to scan.';
                    errorMessage.style.display = 'block';
                    return;
                }
                
                // Clear previous results
                resultsContainer.innerHTML = '';
                errorMessage.style.display = 'none';
                noResultsMessage.style.display = 'none';
                resultsContainer.style.display = 'none';
                
                // Show loading indicator
                loadingIndicator.style.display = 'block';
                progressBar.style.width = '0%';
                
                // Disable scan button
                scanButton.disabled = true;
                scanButton.textContent = 'Scanning...';
                
                // Prepare API request
                const requestData = {
                    category: 'Tech', // Default category
                    subcategories: selectedSubcategories,
                    max_results: 100
                };
                
                // Call the scan API
                fetch('/api/v1/scan', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(requestData)
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    if (!data.meta || !data.meta.scan_id) {
                        throw new Error('No scan ID in response');
                    }
                    
                    // Got scan ID, now poll for progress
                    const scanId = data.meta.scan_id;
                    pollScanProgress(scanId);
                })
                .catch(error => {
                    // Hide loading indicator
                    loadingIndicator.style.display = 'none';
                    
                    // Log the error for debugging
                    console.error('Error:', error);
                    
                    // Show detailed error message
                    errorMessage.textContent = 'Error connecting to scanning service: ' + error.message + 
                                             '. Please try again later.';
                    errorMessage.style.display = 'block';
                    
                    // Re-enable scan button
                    scanButton.disabled = false;
                    scanButton.textContent = 'Start Scanning';
                });
            });
            
            // Poll for scan progress
            function pollScanProgress(scanId) {
                let pollCount = 0;
                const maxPolls = 60; // 60 seconds max wait
                
                const pollInterval = setInterval(() => {
                    pollCount++;
                    
                    if (pollCount > maxPolls) {
                        clearInterval(pollInterval);
                        fetchResults(scanId);
                        return;
                    }
                    
                    fetch(`/api/progress/${scanId}`)
                    .then(response => response.json())
                    .then(data => {
                        // Update progress bar
                        const progress = data.progress || 0;
                        progressBar.style.width = `${progress}%`;
                        
                        // Update status text
                        scanStatus.textContent = getStatusText(data.status, progress);
                        scanStatus.style.display = 'block';
                        
                        // Check if complete
                        if (progress >= 100 || data.status === 'completed' || data.status === 'completed_no_results' || data.status === 'failed') {
                            clearInterval(pollInterval);
                            fetchResults(scanId);
                        }
                    })
                    .catch(error => {
                        console.error('Error polling progress:', error);
                        // Don't stop polling on error, just continue
                    });
                }, 1000); // Check every second
            }
            
            // Get user-friendly status text
            function getStatusText(status, progress) {
                switch(status) {
                    case 'initializing':
                        return 'Initializing scan...';
                    case 'searching marketplaces':
                        return 'Searching marketplaces for products...';
                    case 'searching amazon':
                        return 'Searching Amazon Marketplace...';
                    case 'searching ebay':
                        return 'Searching eBay Marketplace...';
                    case 'searching facebook':
                        return 'Searching Facebook Marketplace...';
                    case 'processing results':
                        return 'Processing search results...';
                    case 'finding opportunities':
                        return 'Finding arbitrage opportunities...';
                    case 'completed':
                        return 'Scan completed successfully!';
                    case 'completed_no_results':
                        return 'Scan completed, but no opportunities found.';
                    case 'failed':
                        return 'Scan failed. Please try again.';
                    default:
                        if (progress < 30) {
                            return 'Searching marketplace listings...';
                        } else if (progress < 60) {
                            return 'Finding product matches...';
                        } else if (progress < 90) {
                            return 'Calculating profit margins...';
                        } else {
                            return 'Finalizing results...';
                        }
                }
            }
            
            // Fetch final results
            function fetchResults(scanId) {
                fetch(`/api/v1/scan/${scanId}`)
                .then(response => response.json())
                .then(data => {
                    // Hide loading indicator
                    loadingIndicator.style.display = 'none';
                    
                    // Get opportunities from response
                    const opportunities = data.arbitrage_opportunities || [];
                    
                    // Display results
                    if (opportunities.length === 0) {
                        noResultsMessage.style.display = 'block';
                    } else {
                        displayResults(opportunities);
                        resultsContainer.style.display = 'block';
                    }
                    
                    // Re-enable scan button
                    scanButton.disabled = false;
                    scanButton.textContent = 'Start Scanning';
                })
                .catch(error => {
                    // Hide loading indicator
                    loadingIndicator.style.display = 'none';
                    
                    // Log error
                    console.error('Error fetching results:', error);
                    
                    // Show error message
                    errorMessage.textContent = 'Error retrieving scan results: ' + error.message + 
                                             '. Please try again later.';
                    errorMessage.style.display = 'block';
                    
                    // Re-enable scan button
                    scanButton.disabled = false;
                    scanButton.textContent = 'Start Scanning';
                });
            }
            
            // Display the results
            function displayResults(opportunities) {
                // Clear the container
                resultsContainer.innerHTML = '';
                
                // Header
                const header = document.createElement('h2');
                header.textContent = `Found ${opportunities.length} Arbitrage Opportunities`;
                resultsContainer.appendChild(header);
                
                // Create opportunities grid
                const grid = document.createElement('div');
                grid.className = 'opportunities';
                
                // Add each opportunity card
                opportunities.forEach(opp => {
                    const card = document.createElement('div');
                    card.className = 'opportunity-card';
                    
                    // Calculate additional fields if needed
                    const buyPrice = opp.buyPrice;
                    const sellPrice = opp.sellPrice;
                    const profit = opp.profit || (sellPrice - buyPrice);
                    const profitPercent = opp.profitPercentage || ((profit / buyPrice) * 100);
                    const confidence = opp.confidence || opp.similarity || 80;
                    
                    // Image
                    const imageUrl = opp.buyImage || opp.sellImage || '';
                    const imageHtml = imageUrl ? `<img src="${imageUrl}" alt="${opp.buyTitle}" style="width: 100%; height: 200px; object-fit: cover;">` : '';
                    
                    // Get condition classes
                    const buyCondition = opp.buyCondition || 'Unknown';
                    const sellCondition = opp.sellCondition || 'Unknown';
                    const buyConditionClass = getConditionClass(buyCondition);
                    const sellConditionClass = getConditionClass(sellCondition);
                    
                    // Create card content
                    card.innerHTML = `
                        <div class="card-header">
                            <h3>${opp.buyTitle}</h3>
                        </div>
                        <div class="card-content">
                            ${imageHtml}
                            <div class="product-comparison">
                                <div class="buy-info">
                                    <div class="marketplace">Buy on ${opp.buyMarketplace}</div>
                                    <div class="price">${buyPrice.toFixed(2)}</div>
                                    <span class="condition-badge ${buyConditionClass}">${buyCondition}</span>
                                </div>
                                <div class="sell-info">
                                    <div class="marketplace">Sell on ${opp.sellMarketplace}</div>
                                    <div class="price">${sellPrice.toFixed(2)}</div>
                                    <span class="condition-badge ${sellConditionClass}">${sellCondition}</span>
                                </div>
                            </div>
                            
                            <div class="profit-details">
                                <div class="profit">Profit: ${profit.toFixed(2)}</div>
                                <div class="profit-percentage">ROI: ${profitPercent.toFixed(2)}%</div>
                                <div class="fees">
                                    ${opp.fees ? `Fees: ${opp.fees.marketplace.toFixed(2)} • Shipping: ${opp.fees.shipping.toFixed(2)}` : 'Includes estimated fees & shipping'}
                                </div>
                            </div>
                            
                            <div class="confidence-meter">
                                <div class="confidence-bar">
                                    <div class="confidence-fill" style="width: ${confidence}%"></div>
                                </div>
                                <div class="confidence-text">${confidence}% match</div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <a href="${opp.buyLink}" target="_blank" class="btn btn-outline">View Buy</a>
                            <a href="${opp.sellLink}" target="_blank" class="btn btn-secondary">View Sell</a>
                        </div>
                    `;
                    
                    // Add card to grid
                    grid.appendChild(card);
                });
                
                // Add grid to container
                resultsContainer.appendChild(grid);
            }
            
            // Helper function for condition class
            function getConditionClass(condition) {
                if (!condition) return '';
                
                condition = condition.toLowerCase();
                if (condition.includes('new') || condition === 'mint' || condition === 'sealed') {
                    return 'condition-new';
                } else {
                    return 'condition-used';
                }
            }
        });
    </script>
</body>
</html>
